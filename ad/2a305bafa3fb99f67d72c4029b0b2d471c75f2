r1022 branches/gsoc2007