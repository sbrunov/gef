r1035 branches/gsoc2007