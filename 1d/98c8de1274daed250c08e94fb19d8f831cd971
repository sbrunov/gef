r1002 branches/gsoc2007