<?xml version="1.0"?>

<project name="argouml" default="build" basedir=".">

<target name="init">
 <tstamp/>
 <property file="${ant.home}${file.separator}dev.properties"/>
 <property name="src.dir" value="src"/>
 <property name="obj.dir" value="lib"/>
 <property name="javadoc.dir" value="javadoc"/>
 <property name="packagenames" value="uci.*"/>
 <property name="jar" value="argouml.jar"/>
 <echo message="gef.lib=${gef.lib}"/>
 <echo message="xml4j.lib=${xml4j.lib}"/>
</target>

<target name="build" depends="init">
 <mkdir dir="${obj.dir}"/>
 <javac srcdir="${src.dir}" destdir="${obj.dir}"
        deprecation="${deprecation}"
        classpath="${gef.lib}${path.separator}${xml4j.lib}"/>
</target>

<target name="jar" depends="build">
 <jar jarfile="${jar}" basedir="${obj.dir}"/>
</target>

<target name="javadoc" depends="init">
 <mkdir dir="${javadoc.dir}"/>
 <javadoc sourcepath="${src.dir}" destdir="${javadoc.dir}"
          packagenames="${packagenames}"/>
</target>

<target name="clean" depends="init">
 <deltree dir="${obj.dir}"/>
 <delete file="${jar}"/>
 <deltree dir="${javadoc.dir}"/>
</target>

<target name="run" depends="build">
 <property name="main" value="uci.uml.Main"/>
 <property name="args" value=""/>

 <java classname="${main}" args="${args}" fork="yes"
       jvmargs="-cp ${obj.dir}${path.separator}${gef.lib}${path.separator}${xml4j.lib}"/>
</target>

</project>
