<?xml version="1.0"?>

<project name="gef-demos" default="build" basedir=".">

<target name="init">
 <tstamp/>
 <property name="src.dir" value="src"/>
 <property name="obj.dir" value="lib"/>
 <property name="javadoc.dir" value="javadoc"/>
 <property name="packagenames" value="uci.*"/>
 <property name="jar" value="gef-demos.jar"/>
 <property name="gef.jar" value="..${file.separator}gef.jar"/>
</target>

<target name="build" depends="init">
 <mkdir dir="${obj.dir}"/>
 <javac srcdir="${src.dir}" destdir="${obj.dir}"
        deprecation="${deprecation}"
        classpath="${gef.jar}"/>
</target>

<target name="jar" depends="build">
 <jar jarfile="${jar}" basedir="${obj.dir}"/>
</target>

<target name="javadoc" depends="init">
 <mkdir dir="${javadoc.dir}"/>
 <javadoc sourcepath="${src.dir}" destdir="${javadoc.dir}"
          packagenames="${packagenames}"/>
</target>

<target name="clean" depends="init">
 <deltree dir="${obj.dir}"/>
 <delete file="${jar}"/>
 <deltree dir="${javadoc.dir}"/>
</target>

<target name="run" depends="build">
 <echo message="======================="/>
 <echo message="usage: ant [target]"/>
 <echo message="targets:"/>
 <echo message=" MyDemo"/>
 <echo message=" BasicApplication"/>
 <echo message=" BroomStudy"/>
 <echo message=" EquipmentApplet"/>
 <echo message=" InBrowserApplet"/>
 <echo message=" SpawnedApplet"/>
 <echo message="======================="/>
</target>

<!-- applications -->
<target name="MyDemo" depends="build">
 <property name="main" value="uci.gef.demo.MyDemo"/>
 <property name="args" value=""/>

 <java classname="${main}" args="${args}" fork="yes"
       jvmargs="-cp ${obj.dir}${path.separator}${gef.jar}"/>
</target>

<target name="BasicApplication" depends="build">
 <property name="main" value="uci.gef.demo.BasicApplication"/>
 <property name="args" value=""/>

 <java classname="${main}" args="${args}" fork="yes"
       jvmargs="-cp ${obj.dir}${path.separator}${gef.jar}"/>
</target>

<target name="BroomStudy" depends="build">
 <property name="main" value="uci.gef.demo.BroomStudy"/>
 <property name="args" value=""/>

 <java classname="${main}" args="${args}" fork="yes"
       jvmargs="-cp ${obj.dir}${path.separator}${gef.jar}"/>
</target>

<!-- applets -->
<target name="EquipmentApplet" depends="build">
 <copyfile src="${gef.jar}" dest="${obj.dir}/gef.jar"/>
 <echo message="${gef.jar} ${obj.dir}"/>
 <exec command="appletviewer EquipmentApplet.html" dir="${obj.dir}"/>
</target>

<target name="InBrowserApplet" depends="build">
 <copyfile src="${gef.jar}" dest="${obj.dir}/gef.jar"/>
 <exec command="appletviewer InBrowserApplet.html" dir="${obj.dir}"/>
</target>

<target name="SpawnedApplet" depends="build">
 <copyfile src="${gef.jar}" dest="${obj.dir}${file.separator}gef.jar"/>
 <exec command="appletviewer SpawnedApplet.html" dir="${obj.dir}"/>
</target>

</project>
