r1008 branches/gsoc2007